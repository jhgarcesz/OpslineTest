import React from "react";
import { Button, Card, ListGroup, ListGroupItem, Modal } from 'react-bootstrap';
import { run as runHolder } from 'holderjs/holder';

import './vulnerabilities.css'

export const VulnerabilityDetails = (props) => {
    
    // Loading a fake background image when component did mount.
    React.useEffect(() => {        
      runHolder('image-class-name-no-initial-dot');
    });

    // Rendering a modal with all the details of each vulnerability
    return (
        <Modal show={props.show}
          animation={false}           
          size="lg"
          aria-labelledby="contained-modal-title-vcenter"
          centered 
          onHide={props.handleClose}>
          <Modal.Header>
            <Modal.Title>Vulnerability Details</Modal.Title>
            <Button type="button" onClick={props.handleClose} className="btn-close" aria-label="Close" />
          </Modal.Header>
          <Modal.Body>
          <Card border="dark">
            <Card.Img variant="top" src={`holder.js/100px180?theme=social&text=#${props.currentRow.id}`} />
            <Card.Body>
              <Card.Title>{props.currentRow.name}</Card.Title>
              <Card.Text>
               {props.currentRow.description}
              </Card.Text>
            </Card.Body>
            <ListGroup className="list-group-flush">
              <ListGroupItem id="list-item">
                <b className="list-item-title">Severity Level: </b> 
                <span>{props.currentRow.severity_level}</span>
              </ListGroupItem>
              <ListGroupItem>
                <b className="list-item-title">Alert: </b>
                <span>{props.currentRow.alert}</span>
                </ListGroupItem>
              <ListGroupItem id="list-item">
                  <b className="list-item-title">Solution: </b>
                  <span>{props.currentRow.solution}</span>
                </ListGroupItem>
              <ListGroupItem>
                <b className="list-item-title">Application: </b>
                <span>{props.currentRow.application}</span>
                </ListGroupItem>
              <ListGroupItem id="list-item">
                  <b className="list-item-title">Evidence: </b>
                  <span>{props.currentRow.evidence}</span>
              </ListGroupItem>
            </ListGroup>
          </Card>
          </Modal.Body>
          <Modal.Footer>
            <Button variant="secondary" onClick={props.handleClose}>
              Close
            </Button>
          </Modal.Footer>
        </Modal>
    );
  }
